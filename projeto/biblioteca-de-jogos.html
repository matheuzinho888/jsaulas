<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../projeto/imgs_projeto/modelo.css" />
  <title>Biblioteca de Jogos</title>
</head>

<body>
<aside class="menu-vertical">
  <a href="biblioteca-de-jogos.html">
    <img src="./imgs_projeto/10.png" alt="logotipo da biblioteca" class="logo" />
  </a>
  <nav>
    <ul>
      <li><a href="#" onclick="mostrarConteudo('conteudo')"><i class="bi bi-house"></i> INÍCIO</a></li>
      <li><a href="#" onclick="mostrarConteudo('Criar')"><i class="bi bi-folder-symlink"></i> CRIAR POST</a></li>

      <li class="has-submenu">
        <button class="submenu-toggle" id="sub"><i class="bi bi-folder2"></i> CATÁLOGO</button>
        <ul class="submenu">
          <li><a href="#" id="catal" onclick="mostrarConteudo('CRIADOS')"><i class="bi bi-bookmarks"></i> POSTS CRIADOS</a></li>
          <li><a href="#" onclick="mostrarConteudo('RECOMENDADOS')"><i class="bi bi-bookmark-star"></i> RECOMENDADOS</a></li>
        </ul>
      </li>

      <li><a href="#" onclick="mostrarConteudo('SOBRE')"><i class="bi bi-info-circle"></i> SOBRE</a></li>
    </ul>
    
    <div class="jj mt-3">
      <a href="#" onclick="mostrarConteudo('GITHUB')" aria-label="Ver GitHub dos desenvolvedores">
        <i class="bi bi-github" style="color: white; font-size: 400%;"></i>
      </a>
      <br />
      <button onclick="toggleDarkMode()" aria-label="Alternar modo escuro" style="background: none; border: none;">
        <i class="bi bi-brightness-low" style="color: white; font-size: 410%;"></i>
      </button>
    </div>

    <h1 style="color: white;"><i class="bi bi-instagram"></i>
    <i class="bi bi-twitter-x"></i>
    <i class="bi bi-whatsapp"></i>
  </h1>
  </nav>
</aside>

  <main class="conteudo">
    <div id="conteudo" class="secao">
      <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="imgs_projeto/capared.jpg" class="d-block w-100" alt="Capa Red Dead Redemption 2" />
          </div>
          <div class="carousel-item">
            <img src="imgs_projeto/capanv.webp" class="d-block w-100" alt="Capa The Witcher 3" />
          </div>
          <div class="carousel-item">
            <img src="imgs_projeto/thelastcapa.webp" class="d-block w-100" alt="Capa The Last of Us" />
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Anterior</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Próximo</span>
        </button>
      </div>
    </div>

      <div id="CRIADOS" class="row row-cols-1 row-cols-md-3 g-4 secao" style="display: none;">
        <h2>Catálogo de Jogos</h2>
          <div>
                <input type="text" placeholder="Pesquisar JOGO" value="" id="pesquisarJogo">
                <button onclick="pesquisarJogo();">PESQUISAR</button>
            </div>
    
      </div>
    </div>

   <div id="Criar" class="secao" style="display: none;">
  <div class="container mt-4">
    <h2 class="mb-4">Criar Postagem</h2>
    <form class="row g-3">
      <div class="col-md-6">
        <label for="nome_jogo" class="form-label">Nome do Jogo</label>
        <input type="text" class="form-control" id="nome_jogo" name="nome_jogo" required autocomplete="off" />
      </div>
      <div class="col-md-6">
        <label for="img_jogo" class="form-label">URL da Imagem de Capa</label>
        <input type="url" class="form-control" id="img_jogo" name="img_jogo" placeholder="https://exemplo.com/imagem.jpg" autocomplete="off" />
      </div>
      <div class="col-12">
        <label class="form-label">Avaliação</label>
        <div class="classificacao" style="display: flex;flex-direction: row-reverse;justify-content: flex-end;">
          <span class="estrela">&#9733;</span>
          <span class="estrela">&#9733;</span>
          <span class="estrela">&#9733;</span>
          <span class="estrela">&#9733;</span>
          <span class="estrela">&#9733;</span>
        </div>
      </div>
      <div class="col-12">
        <label for="floatingTextarea2" class="form-label">Comentários</label>
        <textarea class="form-control" id="floatingTextarea2" placeholder="Deixe seu comentário" style="height: 100px;"></textarea>
      </div>
      <div class="col-12">
        <button type="button" class="btn btn-primary" onclick="criarpost()">Postar</button>
      </div>
    </form>
  </div>
</div>

    <div id="RECOMENDADOS" class="secao" style="display: none;">
    <div class="container text-center">
  <div class="row">
    <div class="col">
        <img src="./imgs_projeto/spiderman.jpg" alt="yyy" style="width: 89%;">
        <p>SPIDER-MAN</p>
    </div>
    <div class="col">
        <img src="./imgs_projeto/black.jpg" alt="yyy" style="width: 89%;">
        <p>BLACK</p>
    </div>
    <div class="col">
        <img src="./imgs_projeto/50cent.png" alt="yyy" style="width: 80%;">
        <p>50CENT: BULLETPROOF</p>
    </div>
  </div>
    </div>
<br>
 <div class="container text-center">
  <div class="row">
    <div class="col">
        <img src="./imgs_projeto/dragon ball.jpg" alt="yyy" style="width: 90%;">
        <p>DRAGON BALL Z</p>
    </div>
    <div class="col">
        <img src="./imgs_projeto/farcry3.png" alt="yyy" style="width: 88%;">
        <p>FAR CRY 3</p>
    </div>
    <div class="col">
        <img src="./imgs_projeto/guitarhero.png" alt="yyy" style="width: 90%;">
        <p>GUITAR HERO 3</p>
    </div>
    </div>
  </div>

  <div class="container text-center">
   <div class="row">
    <div class="col">
        <img src="./imgs_projeto/needforspeed.png" alt="yyy" style="width: 92%;">
        <p>NEED FOR SPEED: MOST WANTED</p>
    </div>
    <div class="col">
        <img src="./imgs_projeto/midnight.png" alt="yyy" style="width: 88%;">
        <p>MIDNIGHT CLUB 3</p>
    </div>
    <div class="col">
        <img src="./imgs_projeto/mk.png" alt="yyy" style="width: 89%;">
        <p>MORTAL KOMBAT: SHAOLIN MONKS</p>
    </div>
   </div>
  </div>

  <div class="container text-center">
    <div class="row">
      <div class="col">
        <img src="./imgs_projeto/watchdogs2.png" alt="yyy" style="width: 92%;">
        <p>WATCH DOGS 2</p>
      </div>
      <div class="col">
        <img src="./imgs_projeto/gow3.webp" alt="yyy" style="width: 91%;">
        <p>GOD OF WAR 3</p>
      </div>
      <div class="col">
        <img src="./imgs_projeto/gtasan.webp" alt="yyy" style="width: 93%;">
        <p>GTA SAN ANDREAS</p>
      </div>
    </div>
  </div>
</div>
<br>
    <div id="SOBRE" class="secao" style="display: none;">
      <h2 style="display: flex;justify-content: center;padding-bottom: 15px">Sobre o projeto</h2>
      <span style="display: flex;justify-content: center;"><p style="font-size: x-large;font-size: x-large;text-align: center;width: 70%"> A nossa biblioteca de jogos é um espaço dedicado ao acesso, empréstimo e uso de uma ampla variedade de jogos, que podem incluir jogos de tabuleiro, cartas, quebra-cabeças, RPGs, jogos digitais e educativos. Seu principal objetivo é promover a interação social, o aprendizado, o entretenimento e o desenvolvimento cognitivo por meio do jogo.
O ambiente é organizado, acolhedor e acessível, contando com áreas para jogos em grupo, sessões individuais e atividades mediadas por monitores ou educadores. Os títulos disponíveis abrangem diferentes faixas etárias, níveis de complexidade e interesses, garantindo opções tanto para iniciantes quanto para jogadores experientes.
Além do acervo, a biblioteca de jogos frequentemente realiza eventos como campeonatos, oficinas de criação de jogos, encontros de RPG e sessões temáticas, estimulando a criatividade, a cooperação e o pensamento estratégico.
Aberta à comunidade, escolas e instituições, a biblioteca de jogos é um ponto de encontro onde diversão e aprendizado caminham juntos.
      </p>
      </span>
 
    </div>

  <div id="GITHUB" class="row row-cols-1 row-cols-md-3 g-4 secao" style="display: none;">
    <h2>GitHub dos Desenvolvedores</h2>
    <a href="https://github.com/matheuzinho888" target="_blank">
    <div class="col">
     <div class="card">
    <img src="https://avatars.githubusercontent.com/u/177585311?v=4" class="card-img-top" alt="GitHub"  />
    <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
      </div>
    </div>
  </div>
  </a>
    <a href="https://github.com/ryan-antunes" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/177585072?v=4" alt="GitHub" style="width: 100px; border-radius: 50%;" />
  </a>
    <a href="https://github.com/pedrao2109" target="_blank">
      <img src="https://avatars.githubusercontent.com/u/177585079?v=4" class="rounded float-start" alt="..." style="width: 100px; border-radius: 50%;">
  </a>
</div>
<!--  <div class="row row-cols-1 row-cols-md-3 g-4">
  <div class="col">
    <div class="card">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content.</p>
      </div>
    </div>
  </div> -->



  </main>
      <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true" style=" background-color: #63b963;">
            <div class="toast-header">
            <!-- <img src="..." class="rounded me-2" alt="..."> -->
            <strong class="me-auto">Post criado com sucesso!</strong>
            <small >Criado neste momento</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" id="tituloPost"></div>
        </div>
      </div>

  <script>
    function criarpost() {
     let nomejogo = document.getElementById('nome_jogo');
     let imgjogo = document.getElementById('img_jogo');

  if (!nomejogo.value || !imgjogo.value) {
    alert("Por favor, preencha os campos de nome e imagem do jogo!");
    return;
  }
  
  let catalogoLista = document.getElementById('CRIADOS');

  let card = document.createElement('div');
  card.className = "col1";
  card.innerHTML = `
    <div class="card h-100">
      <img src="${imgjogo.value}" class="card-img-top" alt="${nomejogo.value}">
      <div class="card-body">
        <h5 class="card-title">${nomejogo.value}</h5>
      </div>
    </div>
  `;
  catalogoLista.appendChild(card);
  avisoPostCriado(nomejogo.value);

  nomejogo.value = "";
  imgjogo.value = "";

  mostrarConteudo("CRIADOS");
}


    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
      const icone = document.getElementById("icone-tema");
      icone.src = document.body.classList.contains("dark-mode")
    }

    function mostrarConteudo(id) {
      const secoes = document.querySelectorAll('.secao');
      secoes.forEach(secao => {
        secao.style.display = 'none';
      });
      const secaoAtiva = document.getElementById(id);
      if (secaoAtiva) {
        secaoAtiva.style.display = 'block';
      }
    }

   function avaliar(event) {
  const estrelas = document.querySelectorAll(".estrela");
  let selecionada = false;
  estrelas.forEach((estrela, index) => {
    if (estrela === event.target) {
      selecionada = true;
    }
    estrela.classList.toggle("selecionada", selecionada);
  });
}

document.querySelectorAll(".estrela").forEach(estrela => {
  estrela.addEventListener("click", avaliar);
});
if (localStorage.getItem("jsonCarregado")!='true'){
        carregarConteudo();
    }else{
        popularHTML();
    }

    function excluirLocalStorage(){
        localStorage.clear();
        window.location.reload();
    }
    function carregarConteudo() {
        fetch("./dados/jogos.json")
            .then((res) => {
            return res.json();
            })
            .then((conteudo_json) => {
                // Aqui você armazena o objeto JSON como uma string no localStorage
                localStorage.removeItem("jogos");
                localStorage.setItem("jogos", JSON.stringify(conteudo_json));
                localStorage.setItem("jsonCarregado", 'true');            
                popularHTML();
            })
            .catch((erro) => {
            console.error("Erro ao carregar as informações:", erro);
            });
        }

        function popularHTML(){
            const jogos = JSON.parse(localStorage.getItem("jogos"));
            for (let i = 0; i < jogos.length; i++) {
                adicionarElemento(jogos[i],i);        
            }
        }

    function adicionarElemento(jogo, pos) {      
        const container = document.getElementById("conteudo_jogos");
        let divContainer = container.getElementsByClassName('row')[0];
        
        // Criar um novo elemento para o conteudo do jogo
        const sectionJogo = document.createElement("section");
        
        sectionJogo.setAttribute("id", `jogo-${pos}`);            
        sectionJogo.classList.add("col", "jogo", "item2");

        // Adicionar conteúdo
        // <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalEditarCampanha">Editar via Target</button>


        sectionJogo.innerHTML = `
            <div class="card shadow-sm">
                <img src="${jogo.capa}" alt="foto-${jogo.nome}">
                <h2 class="fw-normal text-center">${jogo.nome}</h2>

                <div class="card-body">
                    <p class="card-text">${jogo.sobre}.</p>
                            <label class="form-label">Avaliação</label>
                            <div class="classificacao" style="display: flex;flex-direction: row-reverse;justify-content: flex-end;">
                                <span class="estrela 1">&#9733;</span>
                                <span class="estrela 2">&#9733;</span>
                                <span class="estrela 3">&#9733;</span>
                                <span class="estrela 4">&#9733;</span>
                                <span class="estrela 5">&#9733;</span>
                            </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group"> 
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="abirConteudo(${pos})">Visualizar</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="editarJogo(${pos})">Editar</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="mostrarHobbiesJogo(${pos})">Hobbies</button>
                        </div>

                    </div>
                </div>
            </div>
        `;
        
        // Adicionar o novo elemento ao container
        divContainer.appendChild(sectionJogo);       
    
    }

</script>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js"></script>

      <script>
        function avisoPostCriado(tituloPost){
          let toastLiveExample = document.getElementById('liveToast');
          let toastBootstrap = bootstrap.Toast.getOrCreateInstance(toastLiveExample);
          document.getElementById("tituloPost").innerText = tituloPost;
          toastBootstrap.show();
       }
    </script>
    <script>
  document.querySelectorAll('.submenu-toggle').forEach(btn => {
    btn.addEventListener('click', () => {
      const submenu = btn.nextElementSibling;
      submenu.classList.toggle('show');
    });
  });
</script>



</body>
</html>