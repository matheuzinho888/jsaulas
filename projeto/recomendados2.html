<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="../projeto/imgs_projeto/modelo.css" />
        <title>Index: Biblioteca de Jogos</title>
    </head>
    <body>
        <aside class="menu-vertical">
            <a href="index.html">
            <img src="./imgs_projeto/10.png" alt="logotipo da biblioteca" class="logo" />
            </a>
            <nav>
                <ul>
                    <li><a href="index.html"><i class="bi bi-house"></i> INÍCIO</a></li>
                    <li><a href="criar-post.html"><i class="bi bi-folder-symlink"></i> CRIAR POST</a></li>
                    <li class="has-submenu">
                        <button class="submenu-toggle" id="sub"><i class="bi bi-folder2"></i> CATÁLOGO</button>
                        <ul class="submenu">
                            <li><a href="./criados.html" id="catal" ><i class="bi bi-bookmarks"></i> MEU CATÁLOGO</a></li>
                            <li><a href="recomendados.html" ><i class="bi bi-bookmark-star"></i> RECOMENDADOS</a></li>
                        </ul>
                    </li>
                    <li><a href="./sobre.html" ><i class="bi bi-info-circle"></i> SOBRE</a></li>
                </ul>
                <div class="jj mt-3">
                    <a href="./github.html" aria-label="Ver GitHub dos desenvolvedores">
                    <i class="bi bi-github" style="color: white; font-size: 400%;"></i>
                    </a>
                    <br />
                    <button onclick="toggleDarkMode()" aria-label="Alternar modo escuro" style="background: none; border: none;">
                    <i class="bi bi-brightness-low" style="color: white; font-size: 410%;"></i>
                    </button>
                </div>
                <h1 style="color: white;">
                    <i class="bi bi-instagram"></i>
                    <i class="bi bi-twitter-x"></i>
                    <i class="bi bi-whatsapp"></i>
                </h1>
            </nav>
        </aside>
        <body>
          <main class="conteudo">
            <div class="titulo" style="">
              <h1>jogos recomendados pelo criador</h1>
              <p>voce pode enviar jogos daqui para o seu catalogo</p>
            </div>
            <div id="RECOMENDADOS" class="secao" >
            <div class="container py-4">
              <div class="row g-4">
                <!-- Lista de jogos -->
              </div>
            </div>
          </div>
        </main>
     <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js"></script>

      <script>
  document.querySelectorAll('.submenu-toggle').forEach(btn => {
    btn.addEventListener('click', () => {
      const submenu = btn.nextElementSibling;
      submenu.classList.toggle('show');
    });
  });
    function toggleDarkMode() {
  document.body.classList.toggle("dark-mode");

  const icone = document.getElementById("icone-tema");
  if (document.body.classList.contains("dark-mode")) {
    icone.classList.remove("bi-brightness-low");
    icone.classList.add("bi-moon-stars-fill");
  } else {
    icone.classList.remove("bi-moon-stars-fill");
    icone.classList.add("bi-brightness-low");
  }
}

document.addEventListener("DOMContentLoaded", (event) => {
  console.log("DOM fully loaded and parsed");
  const jogos_ = JSON.parse(localStorage.getItem("jogos"));
  let jogos_recomendados = jogos_.filter(jogo => 
    jogo.recomendado.toLowerCase().includes("sim".toLowerCase())
  );
  console.log(jogos_recomendados);
  for (let i = 0; i < jogos_recomendados.length; i++) {
    adicionarJogosRecomendados(jogos_recomendados[i],i);        
  }
  
});

function adicionarJogosRecomendados(jogo, pos){
  console.log(jogo)
        const divRecomendos = document.getElementById("RECOMENDADOS");
        let divContainer = divRecomendos.getElementsByClassName('row')[0];
        
        // Criar um novo elemento para o conteudo do jogo
        const sectionJogo = document.createElement("section");
        
        sectionJogo.setAttribute("id", `jogo-${pos}`);            
        sectionJogo.classList.add("col", "jogo","col-md-4","col-sm-6");

        // Adicionar conteúdo
        // <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalEditarCampanha">Editar via Target</button>


        sectionJogo.innerHTML = `
                  <div class="game-card">
                  <img src="${jogo.capa}" alt="${jogo.sobre}">
                  <div class="game-title">${jogo.nome}</div>
                </div>
        `
      // Adicionar o novo elemento ao container
      divContainer.appendChild(sectionJogo);      

}

    </script>
</body>
</html>